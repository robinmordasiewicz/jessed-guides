
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Providers &#8212; Day 0 Beginners Guide to Terraform 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Registry" href="Registry.html" />
    <link rel="prev" title="Day 0 Beginners Guide to Terraform" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="providers">
<h1>Providers<a class="headerlink" href="#providers" title="Permalink to this heading">¶</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h2>
<p>A <a class="reference external" href="https://www.terraform.io/docs/glossary#terraform-provider">Terraform Provider</a> is a plugin that Terraform calls in order to communicate with the service or resource being configured. For example, in order to configure Azure resources Terraform uses the <a class="reference external" href="https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs">azurerm</a> provider. Providers are <em>usually</em> written by the organization that provides the product being configured, though that is not always the case. For example, the <a class="reference external" href="https://registry.terraform.io/providers/F5Networks/bigip/1.15.2">BIG-IP</a> is provided by F5, but the Azure provider is provided directly by Hashicorp (the same company that created Terraform).</p>
<p>The provider(s) required for the Terraform Run are identified by Terraform when you run a <code class="docutils literal notranslate"><span class="pre">terraform</span> <span class="pre">init</span></code>, and are <em>automatically</em> downloaded. There are a two parts to provider configuration. The first declares that the Provider is required, and the second is the actual Provider configuration.</p>
<section id="provider-declaration">
<h3>Provider Declaration<a class="headerlink" href="#provider-declaration" title="Permalink to this heading">¶</a></h3>
<p>Here is an example of the Provider declaration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">terraform</span> <span class="p">{</span>
  <span class="n">required_providers</span> <span class="p">{</span>
    <span class="n">azurerm</span> <span class="o">=</span> <span class="p">{</span> <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;3.14.0&quot;</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The ‘terraform’ block is not limited on only one Provider; more can be defined depending on what your Terraform Run requires. Here are a few example Provider configurations:</p>
</section>
<section id="id1">
<h3><a class="reference external" href="https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs">Azure</a><a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<p><strong>NOTE</strong>: Along with identifying and downloading the Provider, <code class="docutils literal notranslate"><span class="pre">terraform</span> <span class="pre">init</span></code> will also <em>upgrade</em> the provider if a newer one is available and the specific version isn’t specified in the provider declaration. The example above defines the specific version of the provider to be used, so the release of newer versions will be ignored. That said, a common approach is to use a version statement similar to <strong>‘version ~&gt; “3.14.0”</strong>, and that syntax will result in the Provider being automatically upgraded whenever a new version is available. If that newer version includes changes to the options/arguments in any of the resources you are using you may find yourself having to refactor portions of your Terraform configuration to adjust to the new options. The best practice would be to use ‘=’ to restrict the Provider to the specific version you are writing your code for. You can then allow the Provider to be upgraded when it is convenient for you, rather than potentially having to update a bunch of code that is unrelated to whatever you are actually trying to work on.</p>
<p>The <em>Provider</em> configuration blocks define changes to the default provider behavior. Even without any changes each provider must still have a configuration block. Here is a default configuration block for the Azure Provider:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">provider</span> <span class="s2">&quot;azurerm&quot;</span> <span class="p">{</span> <span class="p">}</span>
</pre></div>
</div>
<p>Provider configuration blocks can be much more complicated. Here is a configuration block for the Azure subscriber that includes a few modifications to the default behavior:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">provider</span> <span class="s2">&quot;azurerm&quot;</span> <span class="p">{</span>
  <span class="n">features</span> <span class="p">{</span>
    <span class="n">virtual_machine</span> <span class="p">{</span>
      <span class="c1"># Necessary for license revocation when using BIG-IQ LM.</span>
      <span class="n">graceful_shutdown</span>                       <span class="o">=</span> <span class="n">true</span>
      <span class="n">delete_os_disk_on_deletion</span>              <span class="o">=</span> <span class="n">true</span>
    <span class="p">}</span>
    <span class="n">template_deployment</span> <span class="p">{</span>
      <span class="c1">#  Allow the RG to be removed even if resources are still present</span>
      <span class="n">delete_nested_items_during_deletion</span>     <span class="o">=</span> <span class="n">true</span>
    <span class="p">}</span>
    <span class="n">resource_group</span> <span class="p">{</span>
      <span class="c1"># Allow the RG to be removed even if resources are still present</span>
      <span class="n">prevent_deletion_if_contains_resources</span>  <span class="o">=</span> <span class="n">false</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="id2">
<h3><a class="reference external" href="https://registry.terraform.io/providers/hashicorp/aws/3.27.0/docs">AWS</a><a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<p>The Terraform AWS Provider configuration block shown here pulls the credentials and profile from local values (variables), and defines the default region for operations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">terraform</span> <span class="p">{</span>
  <span class="n">required_providers</span> <span class="p">{</span>
    <span class="n">aws</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">source</span> <span class="o">=</span> <span class="s2">&quot;hashicorp/aws&quot;</span>
      <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;~&gt; 3.0&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">provider</span> <span class="s2">&quot;aws&quot;</span> <span class="p">{</span>
  <span class="n">shared_credentials_file</span>   <span class="o">=</span> <span class="n">local</span><span class="o">.</span><span class="n">creds_file</span>
  <span class="n">profile</span>                   <span class="o">=</span> <span class="n">local</span><span class="o">.</span><span class="n">profile</span>
  <span class="n">region</span>                    <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">region</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Notice that even the terraform configuration block differs from the Azure example. In this case the source of the provider is defined in addition to what version of the provider should be used.</p>
</section>
<section id="id3">
<h3><a class="reference external" href="https://registry.terraform.io/providers/hashicorp/google/latest/docs">GCP</a><a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h3>
<p>And finally, the GCP Provider.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">terraform</span> <span class="p">{</span>
  <span class="n">required_providers</span> <span class="p">{</span>
    <span class="n">google</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;4.40.0&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">provider</span> <span class="s2">&quot;google&quot;</span> <span class="p">{</span>
  <span class="n">project</span>                   <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">project</span>
  <span class="n">region</span>                    <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">region</span>
  <span class="n">zone</span>                      <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">zone</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Day 0 Beginners Guide to Terraform</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Providers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#provider-declaration">Provider Declaration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">Azure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">AWS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">GCP</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Registry.html">Registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="Configurations.html">Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="Modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="Runs.html">Run</a></li>
<li class="toctree-l1"><a class="reference internal" href="Variables.html">Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="Initialization.html">Initialization: <cite>terraform init</cite></a></li>
<li class="toctree-l1"><a class="reference internal" href="Execution.html">Execution: Plan, Apply, Destroy</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tips_and_Tricks.html">Tips and Tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_1.html">Example #1 - Simple variables and output</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_2.html">Example #2 - object output</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_3.html">Example #3 - module creation and usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_4.html">Example #4 - module usage with ternary conditional and ‘count’ meta-argument</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Day 0 Beginners Guide to Terraform</a></li>
      <li>Next: <a href="Registry.html" title="next chapter">Registry</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Jesse Driskill.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/Providers.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>